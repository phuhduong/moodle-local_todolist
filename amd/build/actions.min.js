define("local_todolist/actions",[],(function(){return{init:function(){var _document$getElementB;null===(_document$getElementB=document.getElementById("addtask"))||void 0===_document$getElementB||_document$getElementB.addEventListener("click",(()=>{const name=document.getElementById("newtaskname").value.trim();if(!name)return alert("Enter task name");fetch("ajax.php?action=add",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({name:name})}).then((res=>res.json())).then((()=>location.reload())).catch((()=>alert("Failed to add task")))})),document.querySelectorAll(".toggle").forEach((btn=>{btn.addEventListener("click",(()=>{const id=btn.closest("li").dataset.id;fetch("ajax.php?action=toggle",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id:id})}).then((res=>res.json())).then((()=>location.reload()))}))})),document.querySelectorAll(".rename").forEach((btn=>{btn.addEventListener("click",(()=>{const li=btn.closest("li"),taskname=li.querySelector(".taskname"),input=li.querySelector(".renameinput");if("none"===input.style.display)input.style.display="inline",taskname.style.display="none",input.focus();else{const id=li.dataset.id,name=input.value.trim();if(!name)return;fetch("ajax.php?action=rename",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id:id,name:name})}).then((res=>res.json())).then((()=>location.reload()))}}))})),document.querySelectorAll(".delete").forEach((btn=>{btn.addEventListener("click",(()=>{const id=btn.closest("li").dataset.id;fetch("ajax.php?action=delete",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id:id})}).then((res=>res.json())).then((()=>location.reload()))}))}))}}}));

//# sourceMappingURL=actions.min.js.map