define("local_todolist/actions",["core/ajax"],(function(Ajax){return{init:function(){var _document$getElementB;null===(_document$getElementB=document.getElementById("addtask"))||void 0===_document$getElementB||_document$getElementB.addEventListener("click",(()=>{const name=document.getElementById("newtaskname").value.trim();if(!name)return alert("Enter task name");Ajax.call([{methodname:"local_todolist_add_task",args:{name:name}}])[0].then((()=>{location.reload()})).catch((()=>{alert("Failed to add task")}))})),document.querySelectorAll(".toggle").forEach((btn=>{btn.addEventListener("click",(()=>{const id=parseInt(btn.closest("li").dataset.id);Ajax.call([{methodname:"local_todolist_toggle_task",args:{id:id}}])[0].then((()=>{location.reload()})).catch((()=>{alert("Failed to toggle task")}))}))})),document.querySelectorAll(".rename").forEach((btn=>{btn.addEventListener("click",(()=>{const li=btn.closest("li"),taskname=li.querySelector(".taskname"),input=li.querySelector(".renameinput");if("none"===input.style.display)input.style.display="inline",taskname.style.display="none",input.focus();else{const id=parseInt(li.dataset.id),name=input.value.trim();if(!name)return;Ajax.call([{methodname:"local_todolist_rename_task",args:{id:id,name:name}}])[0].then((()=>{location.reload()})).catch((()=>{alert("Failed to rename task")}))}}))})),document.querySelectorAll(".delete").forEach((btn=>{btn.addEventListener("click",(()=>{const id=parseInt(btn.closest("li").dataset.id);Ajax.call([{methodname:"local_todolist_delete_task",args:{id:id}}])[0].then((()=>{location.reload()})).catch((()=>{alert("Failed to delete task")}))}))}))}}}));

//# sourceMappingURL=actions.min.js.map